//////////////////////////////////////////////////////////////////////////////
const loggingMiddleware = ( db ) => ( req, res, next ) => {

    const logs = {
        ip : req.headers['host'].split(':')[0].trim(),
        header : JSON.stringify(req.headers),
        action : req.originalUrl    
    }
    
    db.logging.create(  logs  )
    next()

}
//////////////////////////////////////////////////////////////////////////////
module.exports = loggingMiddleware
//////////////////////////////////////////////////////////////////////////////